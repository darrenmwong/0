YUI.add("photo-stats-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},update:function(t,n){return e.ModelUpdaters["flickr-photos-setDates"].run({photoId:t,datePosted:n.postedDate?n.postedDate.newVal:this.getValue(t,"datePosted"),dateTaken:n.takenDate?n.takenDate.newVal:this.getValue(t,"dateTaken"),takenGranularity:n.takenGranularity?n.takenGranularity.newVal:this.getValue(t,"takenGranularity")},this.appContext)}},attributes:{dateTaken:{},datePosted:{},takenGranularity:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){t=e.AttributeHelpers.coerceInteger(t);if(t<0||t>10)t=undefined;return t},defaultValue:0},isCirca:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===8}},isSometime:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===6}}},getDateObj:function(t,n){if(n!=="dateTaken"&&n!=="datePosted")throw new Error("Bad date type");var r={},i=this.getValue(t,n),s=this.getValue(t,"takenGranularity");return i?(n==="dateTaken"?s===8?r={granularity:s,year:i.replace(/^([\d]+)(.*)/g,"$1"),monthName:"Circa"}:s===6?(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),monthName:"Sometime in..."}):s===4?(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM")}):(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM"),day:i.format("D"),hour:i.format("HH"),minute:i.format("mm"),second:i.format("s")}):(i=e.moment(i,"X"),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM"),day:i.format("D"),hour:i.format("HH"),minute:i.format("mm"),second:i.format("s")}),r):{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","attribute-helpers","flickr-photos-setDates-updater","moment"]});
YUI.add("flickr-photos-getHtmlMeta-fetcher",function(e){"use strict";function t(e,t){var n=e[0],r=e[1],i;n&&n.HTMLMETA&&(i={id:n.photoId,"og:title":n.HTMLMETA["og:title"],"og:description":n.HTMLMETA["og:description"],"og:type":n.HTMLMETA["og:type"],"og:url":n.HTMLMETA["og:url"],"og:site_name":n.HTMLMETA["og:site_name"],"og:image":n.HTMLMETA["og:image"],"og:image:width":n.HTMLMETA["og:image:width"],"og:image:height":n.HTMLMETA["og:image:height"],"flickr_photos:by":n.HTMLMETA["flickr_photos:by"],"flickr_photos:camera":n.HTMLMETA["flickr_photos:camera"],"flickr_photos:sets":n.HTMLMETA["flickr_photos:sets"],"flickr_photos:groups":n.HTMLMETA["flickr_photos:groups"],"flickr_photos:galleries":n.HTMLMETA["flickr_photos:galleries"],"twitter:card":n.HTMLMETA["twitter:card"],"twitter:site":n.HTMLMETA["twitter:site"],"twitter:app:name:iphone":n.HTMLMETA["twitter:app:name:iphone"],"twitter:description":n.HTMLMETA["twitter:description"],"twitter:app:url:iphone":n.HTMLMETA["twitter:app:url:iphone"],"twitter:creator":n.HTMLMETA["twitter:creator"]},r.exists(t.id)||r.add(i))}function n(t,n){var r=t.id,i={photo_id:r},s=this;return e.batch(n.callAPI("flickr.photos.getHtmlMeta",i),n.getModelRegistry("photo-head-meta-models")).then(function(e){return s._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-photos-getHtmlMeta-fetcher] failed getting or processing API response:",e),e})}e.namespace("ModelFetchers")["flickr-photos-getHtmlMeta"]={run:n,_processResponse:t}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-head-meta-models"]});
YUI.add("photo-head-meta-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getHtmlMeta"].run(t,this.appContext)}},getFieldsForDisplay:function(e){var t={},n=["og:title","og:description","og:type","og:url","og:site_name","og:image","og:image:width","og:image:height","flickr_photos:by","flickr_photos:camera","flickr_photos:sets","flickr_photos:groups","flickr_photos:galleries","twitter:card","twitter:site","twitter:app:name:iphone","twitter:description","twitter:app:url:iphone","twitter:creator","pinterest"],r=this;return n.forEach(function(n){var i=r.getValue(e,n);typeof i!="undefined"&&(t[n]=i)}),t},attributes:{"og:title":{setter:function(e){return e&&e.replace?e.replace(/"/g,"&quot;"):e}},"og:description":{setter:function(e){return e&&e.replace?e.replace(/"/g,"&quot;"):e}},"og:type":{},"og:url":{},"og:site_name":{},"og:image":{},"og:image:width":{},"og:image:height":{},"flickr_photos:by":{},"flickr_photos:camera":{},"flickr_photos:sets":{},"flickr_photos:groups":{},"flickr_photos:galleries":{},"twitter:card":{},"twitter:site":{},"twitter:app:name:iphone":{},"twitter:description":{setter:function(e){return e&&e.replace?e.replace(/"/g,"&quot;"):e}},"twitter:app:url:iphone":{},"twitter:creator":{},pinterest:{setter:function(e){return e}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getHtmlMeta-fetcher","flickr-photos-getInfo-fetcher","attribute-helpers"]});
YUI.add("photo-notes-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)}},attributes:{notes:{isListProxy:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-photos-getInfo-fetcher"]});
YUI.add("flickr-photos-addNotes-creator",function(e){"use strict";function t(e){e.tags=e.tags||[];var t={};return t.photo_id=e.photoId,t.note_x=e.left,t.note_y=e.top,t.note_w=e.width,t.note_h=e.height,t.note_text=e.text,t}function n(e,t){var n=e[0],r=e[1],i=e[2],s=[];return i.exists(n.note.id)||i.add({id:n.note.id,left:t.noteLeft,top:t.noteTop,width:t.noteWidth,height:t.noteHeight,text:t.noteText}),s.push(i.proxy(n.note.id)),r.exists(t.photoId)?s.forEach(function(e){r.getValue(t.photoId,"notes").appendToList(e)}):r.add({id:t.photoId,notes:s}),s}function r(t,n){var r=this;return e.batch(n.callAPI("flickr.photos.notes.add",this._processParams(t)),n.getModelRegistry("photo-notes-models"),n.getModelRegistry("note-models")).then(function(e){return r._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-photos-addNotes-creator] failed getting or processing API response:",e),e})}e.namespace("ModelCreators")["flickr-photos-addNotes"]={run:r,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise"],optional:["photo-notes-models","note-models"]});
YUI.add("flickr-photos-editNote-updater",function(e){"use strict";function t(e,t){return t.callAPI("flickr.photos.notes.edit",e).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-photos-editNote-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-photos-editNote"]={run:t}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("flickr-photos-deleteNote-deletor",function(e){"use strict";function t(e,t){var n={};return n.note_id=e,t.callAPI("flickr.photos.notes.delete",n).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-photos-deleteNote-deletor] failed getting or processing API response:",e),e})}e.namespace("ModelDeletors")["flickr-photos-deleteNote"]={run:t}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("note-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{create:function(t){return e.ModelCreators["flickr-photos-addNotes"].run(t,this.appContext)},update:function(t,n){var r;return r={note_id:t,note_authorName:this.getValue(t,"authorName"),note_author:this.getValue(t,"author"),note_x:this.getValue(t,"left"),note_y:this.getValue(t,"top"),note_w:this.getValue(t,"width"),note_h:this.getValue(t,"height"),note_text:this.getValue(t,"text")},e.ModelUpdaters["flickr-photos-editNote"].run(r,this.appContext)},"delete":function(t){return e.ModelDeletors["flickr-photos-deleteNote"].run(t,this.appContext)}},attributes:{authorName:{setter:function(e){return e}},author:{setter:function(e){return e}},left:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},top:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},width:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},height:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},text:{setter:function(e){return e}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-photos-addNotes-creator","flickr-photos-editNote-updater","flickr-photos-deleteNote-deletor","attribute-helpers"]});
YUI.add("autotag-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{"delete":function(t){return e.ModelDeletors["flickr-photos-removeAutotag"].run(t,this.appContext)}},attributes:{autotagValue:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("flickr-photos-removeAutotag-deletor",function(e){"use strict";function t(e,t){var n={};return n.tag_id=e,t.callAPI("flickr.photos.removeAutotag",n).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-photos-removeAutotag-deletor] failed getting or processing API response:",e),e})}e.namespace("ModelDeletors")["flickr-photos-removeAutotag"]={run:t}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("photo-autotags-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},"delete":function(t){return e.ModelDeletors["flickr-photos-removeAutotag"].run(t,this.appContext)}},attributes:{autotags:{isListProxy:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-photos-getInfo-fetcher","flickr-photos-removeAutotag-deletor"]});
YUI.add("flickr-photos-setPerms-updater",function(e){"use strict";function t(e,t){return t.callAPI("flickr.photos.setPerms",e).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-photos-setPerms-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-photos-setPerms"]={run:t}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("flickr-photos-setMeta-updater",function(e){"use strict";function t(t,n){var r={};return r.photo_id=t.photoId,r.title=t.title,r.description=t.description,e.batch(n.callAPI("flickr.photos.setMeta",r),n.getModelRegistry("photo-models")).then(function(e){var r=e[0],i=e[1];if(!i.exists(t.photoId))throw new Error("[flickr-photos-setMeta-updater] - Photo model can not be updated if it does not exist");!r.photo||!r.photo.title||!r.photo.description?n.warn("[flickr-photos-setMeta-updater] - No updated data returned from API."):i.setValues(t.photoId,{title:r.photo.title.content,description:r.photo.description.content})},function(e){throw n[e.fatal?"error":"debug"]("[flickr-photos-setMeta-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-photos-setMeta"]={run:t}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("flickr-photos-licenses-setLicense-updater",function(e){"use strict";function t(e,t){var n={};return n.photo_id=e.photoId,n.license_id=e.license,t.callAPI("flickr.photos.licenses.setLicense",n).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-photos-licenses-setLicense-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-photos-licenses-setLicense"]={run:t}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("flickr-photos-setSafetyLevel-updater",function(e){"use strict";function t(e,t){var n={};return n.photo_id=e.photoId,n.safety_level=e.safetyLevel+1,t.callAPI("flickr.photos.setSafetyLevel",n).then(null,function(e){throw t[e.fatal?"error":"debug"]("[flickr-photos-setSafetyLevel-updater] failed getting or processing API response:",e),e})}e.namespace("ModelUpdaters")["flickr-photos-setSafetyLevel"]={run:t}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("photo-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},update:function(t,n){var r=[];return("title"in n||"description"in n)&&r.push(e.ModelUpdaters["flickr-photos-setMeta"].run({photoId:t,title:n.title?n.title.newVal:this.getValue(t,"title"),description:n.description?n.description.newVal:this.getValue(t,"description")},this.appContext)),"license"in n&&r.push(e.ModelUpdaters["flickr-photos-licenses-setLicense"].run({photoId:t,license:n.license.newVal},this.appContext)),"safetyLevel"in n&&r.push(e.ModelUpdaters["flickr-photos-setSafetyLevel"].run({photoId:t,safetyLevel:n.safetyLevel.newVal},this.appContext)),e.batch.apply(null,r)}},attributes:{owner:{isModel:!0},engagement:{isModel:!0},title:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},description:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},mediaType:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:"photo"},isVideo:{readOnly:!0,derivedBy:["mediaType"],getter:function(e,t){var n=this.getValue(t,"mediaType");return n==="video"}},isOwner:{readOnly:!0,derivedBy:["owner"],getter:function(e,t){var n=this.getValue(t,"owner"),r=this.appContext.getViewer();return!!r.signedIn&&n.getValue("id")===r.nsid}},sizes:{},orderedSizes:{readOnly:!0,derivedBy:["sizes"],defaultFn:function(e){var t=this.getValue(e,"sizes"),n,r=[];for(n in t)r.push(t[n]),r[r.length-1].key=n;return r.sort(function(e,t){return e.width<t.width?-1:e.width===t.width?e.height<t.height?-1:e.height===t.height?e.key==="o"?1:-1:1:1}),r}},isHD:{},secret:{},needsInterstitial:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},canComment:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!0},canAddMeta:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!0},license:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},safetyLevel:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},url:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.getValue(e,"owner");return t?"/photos/"+t.getValue("pathAlias")+"/"+e:undefined}},guestpass:{}},getLargestSize:function(e){return this.getSizeToFit(e,{width:Number.MAX_VALUE,height:Number.MAX_VALUE})},getGuestpass:function(t){var n=this;return new e.FlickrPromise(function(e,r){n.getValue(t,"guestpass")?e():n.appContext.callAPI("flickr.sharing.createGuestpass",{photo:t}).then(function(r){n.setValue(t,"guestpass",r.guestpass.url),e()})})},getSizeToFit:function(t,n,r){r=r||{};var i=this,s,o=n.width,u=n.height,a=!!r.cropToFit,f=r.includeSquare,l=this.getValue(t,"sizes"),c=r.excludeSizes||["o"],h=r.includeSizes||Object.keys(l),p,d,v;return this._getSizeToFitMemo=this._getSizeToFitMemo||{},s=[t,o,u,a,c.sort().join(""),h.sort().join("")].join("_"),this._getSizeToFitMemo[s]||(e.Object.each(l,function(e,n){var r,i,s,l,m,g;if(e&&c.indexOf(n)===-1&&h.indexOf(n)>-1)if(f||!this.isSizeSquare(n)||this.isPhotoSquare(t)){r=parseInt(e.width,10),i=parseInt(e.height,10),a&&r>=o&&i>=u?s=!0:!a&&(r>=o||i>=u)&&(s=!0),s&&(p?(l=parseInt(p.height,10),i<l&&(p=e)):p=e);if(d){m=parseInt(d.width,10),g=parseInt(d.height,10);if(r>m||i>g)d=e}else d=e}v=p||d},this),this._getSizeToFitMemo[s]=v,this._getSizeToFitMemoTimer||(this._getSizeToFitMemoTimer=setTimeout(function(){delete i._getSizeToFitMemo,delete i._getSizeToFitMemoTimer},1e4))),this._getSizeToFitMemo[s]},getSizeIfExact:function(e,t){var n=this.getValue(e,"sizes"),r,i;return Object.keys(n).some(function(e){return e==="o"?!1:(i=n[e],t.height===i.height&&t.width===i.width?(r=i,!0):!1)}),r},isSizeSquare:function(e){var t={sq:"sq",q:"q"};return!!t[e]},isPhotoSquare:function(t){var n;return this._isPhotoSquareMemo=this._isPhotoSquareMemo||{},typeof this._isPhotoSquareMemo[t]!="undefined"?n=this._isPhotoSquareMemo[t]:(n=!0,e.Object.some(this.getValue(t,"sizes"),function(e,t){var r;if(e&&e.width&&e.height&&!this.isSizeSquare(t)){r=parseInt(e.width,10)/parseInt(e.height,10);if(r!==1)return n=!1,!0}},this),this._isPhotoSquareMemo[t]=n),n}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","flickr-photos-setPerms-updater","flickr-photos-setMeta-updater","flickr-photos-licenses-setLicense-updater","flickr-photos-setSafetyLevel-updater","attribute-helpers"]});
YUI.add("flickr-photos-getInfo-fetcher",function(e){"use strict";function t(t){var n,r;return n=["sizes","icon_urls","ignored","rev_ignored","tags","autotags","venue"].join(","),n=n+","+e.APIHelper.request.getRebootPhotoExtras(),r={datecreate:1,extras:n,photo_id:t.id,get_contexts:1,primary_photo_extras:"url_sq, url_t, url_s, url_m"},t.userId?r.user_id=t.userId:t.pathAlias&&(r.path_alias=t.pathAlias),t.context&&(r.context=t.context,r.num_prev=1,r.num_next=1),t.scrappy&&(e.APIHelper.request.addStaticMapsParams(r),delete r.get_contexts,delete r.primary_photo_extras,delete r.context),r}function n(t,n,i){var s=t.apiResponse,o=t.photoRegistry,u=t.personRegistry,a=t.personRelationshipRegistry,f=t.photoEngagementRegistry,l=t.photoStatsRegistry,c=t.photoPrivacyRegistry,h=t.photoTagsRegistry,p=t.tagRegistry,d=t.photoAutotagsRegistry,v=t.autotagRegistry,m=t.photoNotesRegistry,g=t.noteRegistry,y=t.photoLocationRegistry,b=t.photoHeadMetaRegistry,w,E={},S,x,T,N,C,k,L=[],A=[],O=[],M,_,D;S={id:s.photo.id,title:s.photo.title.content,description:s.photo.description.content,sizes:e.APIHelper.response.parsePhotoSize(s.photo.sizes.size,!0),needsInterstitial:s.photo.needsInterstitial,canComment:s.photo.editability.cancomment,canAddMeta:s.photo.editability.canaddmeta,safetyLevel:s.photo.safetyLevel,license:s.photo.license,mediaType:s.photo.media,secret:s.photo.secret,isHD:e.APIHelper.response.isHD(s.photo.sizes.size)},x={id:s.photo.owner.nsid,username:s.photo.owner.username,realname:s.photo.owner.realname,pathAlias:s.photo.owner.pathAlias,buddyicon:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(s.photo.owner.iconurls),isAdFree:s.photo.owner.isAdFree,isPro:s.photo.owner.ispro},T={id:s.photo.owner.nsid,isContact:s.photo.contactIscontact,isFamily:s.photo.contactIsfamily,isFriend:s.photo.contactIsfriend,isIgnored:s.photo.owner.isignored,isIgnoredBy:s.photo.owner.revIgnored},N={id:s.photo.id,ownerNsid:s.photo.owner.nsid,isFaved:s.photo.isfavorite||!1,canShare:s.photo.usage.canshare,canDownload:s.photo.usage.candownload,commentCount:s.photo.comments.content,noteCount:s.photo.notes&&s.photo.notes.note&&s.photo.notes.note.length,faveCount:s.photo.countFaves,viewCount:s.photo.views},C={id:s.photo.id,dateTaken:s.photo.dates.taken,datePosted:s.photo.dates.posted,takenGranularity:s.photo.dates.takengranularity},M={id:s.photo.id,"og:title":s.photo.HTMLMETA["og:title"],"og:description":s.photo.HTMLMETA["og:description"],"og:type":s.photo.HTMLMETA["og:type"],"og:url":s.photo.HTMLMETA["og:url"],"og:site_name":s.photo.HTMLMETA["og:site_name"],"og:image":s.photo.HTMLMETA["og:image"],"og:image:width":s.photo.HTMLMETA["og:image:width"],"og:image:height":s.photo.HTMLMETA["og:image:height"],"flickr_photos:by":s.photo.HTMLMETA["flickr_photos:by"],"flickr_photos:camera":s.photo.HTMLMETA["flickr_photos:camera"],"flickr_photos:sets":s.photo.HTMLMETA["flickr_photos:sets"],"flickr_photos:groups":s.photo.HTMLMETA["flickr_photos:groups"],"flickr_photos:galleries":s.photo.HTMLMETA["flickr_photos:galleries"],"twitter:card":s.photo.HTMLMETA["twitter:card"],"twitter:site":s.photo.HTMLMETA["twitter:site"],"twitter:app:name:iphone":s.photo.HTMLMETA["twitter:app:name:iphone"],"twitter:description":s.photo.HTMLMETA["twitter:description"],"twitter:app:url:iphone":s.photo.HTMLMETA["twitter:app:url:iphone"],"twitter:creator":s.photo.HTMLMETA["twitter:creator"],pinterest:s.photo.HTMLMETA.pinterest},k={id:s.photo.id,isPublic:s.photo.visibility.ispublic,isVisibleByFriends:s.photo.visibility.isfriend,isVisibleByFamily:s.photo.visibility.isfamily,permAddMeta:s.photo.permissions?s.photo.permissions.permaddmeta:0,permComment:s.photo.permissions?s.photo.permissions.permcomment:0},s.photo&&s.photo.tags&&s.photo.tags.tag&&e.Array(s.photo.tags.tag).forEach(function(e){p.exists(e.id)||p.add({id:e.id,tagRaw:e.raw,tagValue:n.isFlipped("tags-charm")?e.content:e.content.replace(/\s/g,""),tagAuthorNSID:e.author,isMachineTag:e.machineTag}),L.push(p.proxy(e.id))}),s.photo&&s.photo.autotags&&s.photo.autotags.autotag&&e.Array(s.photo.autotags.autotag).forEach(function(e){v.exists(s.photo.id+e.content)||v.add({id:s.photo.id+e.content,autotagValue:e.content}),O.push(v.proxy(s.photo.id+e.content))}),s.photo&&s.photo.notes&&s.photo.notes.note&&e.Array(s.photo.notes.note).forEach(function(e){g.exists(e.id)||g.add({id:e.id,authorName:e.authorname,author:e.author,left:e.x,top:e.y,width:e.w,height:e.h,text:e.content}),A.push(g.proxy(e.id))}),_=e.ModelFetchers["flickr-photos-getLocation"].mapResponse(s),S.owner=u.exists(x.id)?u.proxy(x.id):u.add(x),S.engagement=f.exists(N.id)?f.proxy(N.id):f.add(N),a.exists(T.id)||a.add(T),D=o.exists(S.id)?o.proxy(S.id):o.add(S),l.exists(S.id)||l.add(C),c.exists(S.id)||c.add(k),h.exists(S.id)||h.add({id:S.id,tags:L}),d.exists(S.id)||d.add({id:S.id,autotags:O}),m.exists(S.id)||m.add({id:S.id,notes:A}),b.exists(S.id)||b.add(M),y.exists(S.id)||y.add(_),s.photo.contexts&&(w=t.contextsRegistry,E.faves=t.favoriteRegistry,E.gallery=t.galleryRegistry,E.pool=t.groupsPoolRegistry,E.set=t.setRegistry,E.stream=t.photostreamRegistry,r(D,E,s.photo.contexts,u,w,f,i))}function r(t,n,r,i,s,o,u){var a=[];e.Object.each(n,function(n,s){r[s]&&e.Array.each(r[s],function(r){e.APIHelper.response.addContextToRegistry(r,n,i),a.push(n.proxy(r.id)),u.context&&function(){var s,a,f,l,c,h,p,d,v;s=n.getValue(r.id,"photoContextList"),a=s.hasMinBoundary?s.hasMinBoundary():!1,f=s.hasMaxBoundary?s.hasMaxBoundary():!1,l=s.getList(),h=r.nextphotos,p=r.prevphotos,d=h?e.APIHelper.response.parsePhotos({photos:h.photo,personModelRegistry:i,photoModelRegistry:t.registry,photoEngagementModelRegistry:o}):[],v=p?e.APIHelper.response.parsePhotos({photos:p.photo,personModelRegistry:i,photoModelRegistry:t.registry,photoEngagementModelRegistry:o}):[];if(v.length||d.length)c=e.APIHelper.response.addOrReplaceListByContext({model:t,next:d,prev:v.reverse(),current:l,hasMin:a,hasMax:f,numNext:u.num_next,numPrev:u.num_prev});n.setValue(r.id,"photoContextList",c)}()})}),s.exists(t.id)||(s.add(
{id:t.id,totalGroups:r.pool?r.pool.length:0,totalSets:r.set?r.set.length:0,totalGalleries:r.gallery?r.gallery.length:0}),s.setValue(t.id,"contexts",a))}function i(t,n){var r=this,i;return n.flipper.isFlipped("enable-scrappy-photo-page")&&(t.scrappy=!0),i=this._processParams(t),(new e.FlickrPromise({apiResponse:n.callAPI("flickr.photos.getInfo",i),photoRegistry:n.getModelRegistry("photo-models"),personRegistry:n.getModelRegistry("person-models"),personRelationshipRegistry:n.getModelRegistry("person-relationship-models"),photoEngagementRegistry:n.getModelRegistry("photo-engagement-models"),photoStatsRegistry:n.getModelRegistry("photo-stats-models"),photoPrivacyRegistry:n.getModelRegistry("photo-privacy-models"),photoTagsRegistry:n.getModelRegistry("photo-tags-models"),tagRegistry:n.getModelRegistry("tag-models"),photoAutotagsRegistry:n.getModelRegistry("photo-autotags-models"),autotagRegistry:n.getModelRegistry("autotag-models"),photoNotesRegistry:n.getModelRegistry("photo-notes-models"),noteRegistry:n.getModelRegistry("note-models"),photoLocationRegistry:n.getModelRegistry("photo-location-models"),photoHeadMetaRegistry:n.getModelRegistry("photo-head-meta-models"),contextsRegistry:n.getModelRegistry("photo-contexts-models"),favoriteRegistry:n.getModelRegistry("favorite-models"),galleryRegistry:n.getModelRegistry("gallery-models"),groupsPoolRegistry:n.getModelRegistry("groups-pool-models"),setRegistry:n.getModelRegistry("set-models"),photostreamRegistry:n.getModelRegistry("photostream-models")})).then(function(e){return r._processResponse(e,n.flipper,i)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-photos-getInfo-fetcher] failed getting or processing API response:",e),e})}e.namespace("ModelFetchers")["flickr-photos-getInfo"]={run:i,_processParams:t,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper","flickr-photos-getLocation-fetcher"],optional:["photo-models","person-models","person-relationship-models","photo-engagement-models","photo-stats-models","photo-head-meta-models","note-models","photo-notes-models","autotag-models","photo-autotags-models"]});
YUI.add("photo-location-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext).then(function(e){return e},function(){})}},attributes:{hasGeo:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},latitude:{},longitude:{},levels:{},text:{},mostSpecificWoeId:{readOnly:!0,derivedBy:["levels"],defaultFn:function(e){var t=this.getValue(e,"levels"),n;return["neighbourhood","locality","region","county","country","continent"].some(function(e){if(t[e]&&t[e].woeId)return n=t[e].woeId,!0}),n}},staticMaps:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","attribute-helpers"]});
YUI.add("photo-well-media-view",function(e){var t=500,n=500,r=100,i;i={photo:{render:function(){var t=this,n,i=this.get("photo"),s,o,u=new Date;return t.preloadImage&&(t.preloadImage.onload=null),s=this.getPhotoForDisplay(),o=this.getPhotoForDisplay({includeSizes:["sq","q","t","s","n"]}),n=this.templates("photo-well-media")({width:s.width,height:s.height,src:o.url,highResSrc:s.url,needsInterstitial:i.getValue("needsInterstitial"),isSignedIn:this.appContext.getViewer().signedIn,isVideo:i.getValue("isVideo")}),this.setContainerHTML(n),this.fire("subviewViewEvent",s),YUI.Env.isServer?(this.serverWidth=s.width,this.serverHeight=s.height):i.getValue("needsInterstitial")||(t.preloadImage=new Image,t.preloadImage.onload=function(){if(this.onloadFired)return;if(!t.isActiveAndInDOM())return;this.onloadFired=!0,e.rapidTracker.beacon(this.name,"photoPageShowedSize"+(/(?:_([a-z]))?\.jpg/.exec(s.url)[1]||"\u00f8").toUpperCase());var n=t.get("container").one(".low-res-photo"),i=t.get("container").one(".main-photo"),o=new Date-u,a;o<r?(i.removeClass("is-hidden").show(),n.hide()):(i.setStyles({position:"absolute",left:0,top:0,opacity:0}),i.removeClass("is-hidden"),a=function(){i.removeAttribute("style"),n.hide()},e.UA.ie?a():e.use("transition",function(e){i.transition({duration:.25,opacity:1},a)}))},t.preloadImage.src=s.url,t.preloadImage.complete&&t.preloadImage.onload()),this}},video:{render:function(){var t,n=this,r=this.get("photo"),i=this.getPhotoForDisplay({excludeSizes:[]});return this.player?(this.player.resize(i.width,i.height),this):(t=this.templates("photo-well-media")({width:i.width,height:i.height,src:i.url,needsInterstitial:r.getValue("needsInterstitial"),isVideo:r.getValue("isVideo"),isSignedIn:this.appContext.getViewer().signedIn}),this.setContainerHTML(t),this.fire("subviewViewEvent",i),YUI.Env.isServer?this:(this.player=new e.FlickrVideoPlayer({container:this.get("container").one(".videoplayer"),model:r,appContext:this.appContext}),n.player.init().then(function(){n}),this.on("destroy",function(){n.player.destroy(),n.player=null}),this))}},flippedOff:{render:function(){var e,t=this.get("photo"),n=this.getPhotoForDisplay();return e=this.templates("photo-well-media-novideo")({width:n.width,height:n.height,src:n.url,needsInterstitial:t.getValue("needsInterstitial"),isVideo:t.getValue("isVideo")}),this.setContainerHTML(e),this}},ad:{render:function(){var e,t,n;return this.adJSON?t=this.adJSON:(t=this.appContext.adManager.getAdJSON(),this.adJSON=t),n=this.getAdSize(t),e=this.templates("photo-well-ad")({width:n.width,height:n.height,src:t.url,clickUrl:t.clickUrl,brand:t.brand,adsTypeB:this.appContext.flipper.isFlipped("moneyball-ads-type-b")}),this.setContainerHTML(e),this}}},e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(e){return this.photoId=e.photoId,this.isAd=!!e.ad,this.get("container").html===""&&this.setContainerHTML(""),this},loadState:function(){var e=this;return this.appContext.getModel("photo-models",e.photoId).then(function(t){e.set("photo",t)})},buildContainer:function(){return YUI.Env.isServer||this.set("clientRendered",!0),this.isAd?i.ad.render.call(this):this.appContext.flipper.isFlipped("yep-video")?i[this.get("photo").getValue("isVideo")?"video":"photo"].render.call(this):i.flippedOff.render.call(this),this},handleInterstitialDismissButtonClick:function(t){var n=this,r=this.get("personPreferences"),i=this.get("photo"),s=i.getValue("safetyLevel");e.rapidTracker.beacon(this.name,"restrictedContentInterstitialClick"),r.setValue("safeSearch",s),r.registry.remoteUpdate(n.appContext.auth.user.nsid).then(function(e){var t=i.registry.attributeSearch({needsInterstitial:!0});t.forEach(function(e){i.registry.getValue(e,"safetyLevel")<=r.getValue("safeSearch")&&i.registry.setValue(e,"needsInterstitial",!1)}),n.buildContainer()},function(e){n.appContext.error(e.message),n.appContext.error(e.stack),n.onError("We couldn't update your settings")})},activate:function(){var t=this,n=this.getPhotoForDisplay(),r=this.get("container").one(".main-photo"),i,s;return this.get("photo").getValue("needsInterstitial")||(e.use("global-events",function(e){t.registerEventHandler(e.globalEvents.subscribe("window:resize",function(e){t.set("canvasSizeIsDirty",!0),t.buildContainer()}))}),this.registerEventHandler(e.on("flickr:photo-media-well-update",function(e){t.set("canvasSizeIsDirty",!0),t.buildContainer()})),!this.isAd&&(!t.get("clientRendered")||n.width!==Number(r.getAttribute("width"))||n.height!==Number(r.getAttribute("height")))&&t.buildContainer()),this.registerEventHandler(e.on("flickr:display-note-box",function(n){i=e.Node.create('<div class="note-box"></div>'),s=t.get("container").one(".main-photo").getXY(),t.get("container").append(i),i.setStyles({top:n.noteBoxTop+t.get("container").one(".main-photo").getDOMNode().offsetTop,left:n.noteBoxLeft,width:n.noteBoxWidth,height:n.noteBoxHeight})})),this.appContext.getViewer().signedIn&&this.appContext.getModel("person-preferences-models",t.appContext.auth.user.nsid).then(function(e){t.set("personPreferences",e),t.get("photo").getValue("needsInterstitial")&&t.registerEventHandler(t.get("container").one(".restricted-interstitial-message button").on("click",t.handleInterstitialDismissButtonClick,t))}),this},onError:function(t){var n=this;this.fire("subviewViewEvent","getDialogOffset",function(r){var i=e.Views.dialog.getInstance("dialog-alert",{content:t,attrs:{title:"Error",level:"warning",confirmLabel:"OK"},parent:n,offsetLeft:r});i.show()})},getPhotoForDisplay:function(e){var t=this.getCanvasSize(),n=this.getPixelRatio(),r=this.get("photo").getSizeToFit(t,e),i,s;return i=Math.min(t.height/n,r.height),s=Math.min(t.width/n,r.width/r.height*i),i=Math.min(i,r.height/r.width*s),{width:Math.round(s),height:Math.round(i),url:r.url}},getAdSize:function(e){var t=this.getCanvasSize(),n=this.getPixelRatio(),r=80,i=140,s,o;return this.appContext.flipper.isFlipped("moneyball-ads-type-b")&&(t.height-=(r+i)*n,t.width-=i*n),s=Math.min(t.height/n,e.height
),o=Math.min(t.width/n,e.width/e.height*s),s=Math.min(s,e.height/e.width*o),{width:o,height:s}},getCanvasSize:function(){var e,r=this.getPixelRatio(),i;return this.get("canvasSizeIsDirty")?YUI.Env.isServer||(i=this.get("container").ancestor(),i&&(e=i.get("region"),e.width>0&&e.height>0&&(this.set("canvasSizeIsDirty",!1),this.set("cachedCanvasSize",e),this.appContext.setCookie({remove:!0,cookieName:"photoPW",path:"/photos/",cookieValue:e.width}),this.appContext.setCookie({remove:!0,cookieName:"photoPH",path:"/photos/",cookieValue:e.height}),this.appContext.setCookie({remove:!0,cookieName:"density",path:"/photos/",cookieValue:r})))):e=this.get("cachedCanvasSize"),e||(e={top:0,left:0,bottom:n,right:t,width:parseInt(this.appContext.getCookie("photoPW"),10)||t,height:parseInt(this.appContext.getCookie("photoPH"),10)||n}),e.height*=r,e.width*=r,e},getPixelRatio:function(){return this.appContext.getViewer().getPixelRatio()}},{ATTRS:{canvasSizeIsDirty:{value:!0,setter:function(e){return!!e}},cachedCanvasSize:{getter:function(t){return e.merge(t)},setter:function(t){return e.merge(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-well-media","hermes-template-photo-well-media-novideo","moment","flickr-video-player","hermes-template-photo-well-ad"],optional:["photo-models"]});
YUI.add("hermes-template-photo-sidebar",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function c(e,t){var r="",i,s;return r+="\n	<div class='loadingError'>\n		<div class='loadingErrorInner'>\n			<p>",s={hash:{intlName:"photo-sidebar.ERROR_LOADING_SIDEBAR"},data:t},r+=a((i=n.intlMessage||e.intlMessage,i?i.call(e,s):u.call(e,"intlMessage",s)))+'</p>\n			<p><button href="#" class="ui-button ui-button-cta ui-button-transparent retry">',s={hash:{intlName:"photo-sidebar.RETRY"},data:t},r+=a((i=n.intlMessage||e.intlMessage,i?i.call(e,s):u.call(e,"intlMessage",s)))+"</button></p>\n		</div>\n	</div>\n",r}function h(e,t){var r="",i,s;return r+='\n	<div class="sidebar-panel-fixed">\n		',s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["attribution-view"],s):u.call(e,"outlet",e["attribution-view"],s)))+"\n		",s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["photo-title-desc-view"],s):u.call(e,"outlet",e["photo-title-desc-view"],s)))+"\n		",s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["photo-stats-view"],s):u.call(e,"outlet",e["photo-stats-view"],s)))+"\n		",s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["photo-license-view"],s):u.call(e,"outlet",e["photo-license-view"],s)))+"\n		",s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["context-slider-view"],s):u.call(e,"outlet",e["context-slider-view"],s)))+"\n		",s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["actions-view"],s):u.call(e,"outlet",e["actions-view"],s)))+'\n	</div>\n	<div class="sidebar-panel-scrollable">\n		',s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["group-invitation-notification-view"],s):u.call(e,"outlet",e["group-invitation-notification-view"],s)))+"\n		",s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["comments-view"],s):u.call(e,"outlet",e["comments-view"],s)))+"\n		",s={hash:{},data:t},r+=a((i=n.outlet||e.outlet,i?i.call(e,e["photo-charms-view"],s):u.call(e,"outlet",e["photo-charms-view"],s)))+"\n	</div>\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=n.helperMissing,a=this.escapeExpression,f="function",l=this;s+='<a class="newCloseBtn hide-text" href="',(o=n["close-url"])?o=o.call(t,{hash:{},data:i}):(o=t["close-url"],o=typeof o===f?o.apply(t):o),s+=a(o)+'" data-track="sidebarCloseButtonClick">&times;</a>\n<span class="scrollingNewCloseBtn hide-text">&times;</span>\n\n',o=n["if"].call(t,t.loadingError,{hash:{},inverse:l.program(3,h,i),fn:l.program(1,c,i),data:i});if(o||o===0)s+=o;return s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-sidebar",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-attribution",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function p(e,t){var r="",i;return r+='style="background-image: url(',(i=n.buddyicon)?i=i.call(e,{hash:{},data:t}):(i=e.buddyicon,i=typeof i===f?i.apply(e):i),r+=l(i)+');"></a>',r}function d(e,t){var r="",i;return r+='><img src="',(i=n.buddyicon)?i=i.call(e,{hash:{},data:t}):(i=e.buddyicon,i=typeof i===f?i.apply(e):i),r+=l(i)+'" width="55" height="55"></a>',r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;s+='\n<a class="attribution-icon circle-icon" href="/photos/',(o=n.pathAlias)?o=o.call(t,{hash:{},data:i}):(o=t.pathAlias,o=typeof o===f?o.apply(t):o),s+=l(o)+'/" data-track="attributionAvatarClick" ',o=n["if"].call(t,t.realFullscreenEnabled,{hash:{},inverse:c.program(3,d,i),fn:c.program(1,p,i),data:i});if(o||o===0)s+=o;return s+='\n\n<div class="attribution-info">\n	\n	<a href="/photos/',(o=n.pathAlias)?o=o.call(t,{hash:{},data:i}):(o=t.pathAlias,o=typeof o===f?o.apply(t):o),s+=l(o)+'/" class="owner-name truncate" title="',a={hash:{intlName:"attribution.GO_TO_PHOTOSTREAM",name:t.displayname},data:i},s+=l((o=n.intlMessage||t.intlMessage,o?o.call(t,a):h.call(t,"intlMessage",a)))+'" data-track="attributionNameClick">',(u=n.displayname)?u=u.call(t,{hash:{},data:i}):(u=t.displayname,u=typeof u===f?u.apply(t):u),s+=l(u)+"</a>\n	\n	",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t.follow,a):h.call(t,"outlet",t.follow,a)))+"\n</div>\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/attribution",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-follow",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function a(e,t){var r="",i,s;r+="\n	",s=n.unless.call(e,(i=e.relationship,i==null||i===!1?i:i.isMe),{hash:{},inverse:u.noop,fn:u.program(2,f,t),data:t});if(s||s===0)r+=s;return r+="\n",r}function f(e,t){var r="",i,s;r+='\n		<span class="relationship">\n			',s=n["if"].call(e,(i=e.relationship,i==null||i===!1?i:i.isIgnoredBy),{hash:{},inverse:u.program(5,c,t),fn:u.program(3,l,t),data:t});if(s||s===0)r+=s;return r+="\n		</span>\n	",r}function l(e,t){var n="";return n+="\n				\n			",n}function c(e,t){var r="",i,s;r+="\n				",s=n["if"].call(e,(i=e.relationship,i==null||i===!1?i:i.isIgnored),{hash:{},inverse:u.program(8,p,t),fn:u.program(6,h,t),data:t});if(s||s===0)r+=s;return r+="\n			",r}function h(e,t){var n="";return n+="\n					\n				",n}function p(e,t){var r="",i,s;r+="\n					",s=n["if"].call(e,(i=e.relationship,i==null||i===!1?i:i.isContact),{hash:{},inverse:u.program(11,v,t),fn:u.program(9,d,t),data:t});if(s||s===0)r+=s;return r+="\n					\n				",r}function d(e,t){return"\n						<button class='follow is-following ui-button ui-button-icon ui-button-transparent ui-button-dropdown'><span>Following</span></button>\n					"}function v(e,t){return"\n						<button class='follow ui-button ui-button-icon'><span>Follow</span></button>\n					"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this;s+="\n",o=n["if"].call(t,t.signedIn,{hash:{},inverse:u.noop,fn:u.program(1,a,i),data:i});if(o||o===0)s+=o;return s+="\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/follow",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
